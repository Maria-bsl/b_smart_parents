<ion-content class="w-screen h-screen relative">
  <div
    class="absolute top-0 left-0 right-0 bottom-0 w-full h-full flex flex-col"
  >
    <div class="flex-none text-white py-7">
      <mat-toolbar
        class="flex flex-row items-center justify-between !bg-transparent w-full"
      >
        <div class="flex flex-row items-center">
          <ion-buttons slot="start">
            <ion-back-button
              class="text-white"
              defaultHref="/tabs/tab-1"
            ></ion-back-button>
          </ion-buttons>
          <ion-text class="!text-white">{{
            "changePasswordPage.labels.changePasswordText" | translate
          }}</ion-text>
        </div>
      </mat-toolbar>
    </div>
    <div
      class="grow h-full bg-white rounded-tl-[3.5rem] rounded-tr-[3.5rem] p-8 flex flex-col"
    >
      <form
        id="change-password-form"
        class="bg-white grow w-full h-auto rounded-tl-[3.5rem] rounded-tr-[3.5rem] flex flex-col space-y-3"
        [formGroup]="changePasswordForm"
        (ngSubmit)="submitChangePasswordForm()"
      >
        <div class="flex flex-col">
          <ion-text class="mat-body-small placeholer-text !font-semibold">
            {{
              "changePasswordPage.changePasswordForm.labels.currentPasswordText"
                | translate
            }}
          </ion-text>
          <mat-form-field class="w-full no-padding">
            <input
              type="password"
              matInput
              [formControl]="currentPassword"
              [placeholder]="
                'changePasswordPage.changePasswordForm.placeholders.enterCurrentPasswordText'
                  | translate
              "
            />
            <mat-error>
              {{ "defaults.cannotBeBlankText" | translate }}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="flex flex-col">
          <ion-text class="mat-body-small !font-semibold placeholer-text">
            {{
              "changePasswordPage.changePasswordForm.labels.newPasswordText"
                | translate
            }}
          </ion-text>
          <mat-form-field class="w-full no-padding">
            <input
              type="password"
              matInput
              [formControl]="newPassword"
              [placeholder]="
                'changePasswordPage.changePasswordForm.placeholders.enterNewPasswordText'
                  | translate
              "
            />
            <mat-error>
              {{ "defaults.cannotBeBlankText" | translate }}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="flex flex-col">
          <ion-text class="mat-body-small !font-semibold placeholer-text">
            {{
              "changePasswordPage.changePasswordForm.labels.confirmPasswordText"
                | translate
            }}
          </ion-text>
          <mat-form-field class="w-full no-padding">
            <input
              type="password"
              matInput
              [formControl]="confirmPassword"
              [placeholder]="
                'changePasswordPage.changePasswordForm.placeholders.enterConfirmPasswordText'
                  | translate
              "
            />
            <mat-error>
              @if (confirmPassword.hasError('matching')) {
              {{
                "changePasswordPage.changePasswordForm.errors.passwordsDoNotMatchText"
                  | translate
              }}
              } @else if (confirmPassword.hasError('required')) {
              {{ "defaults.cannotBeBlankText" | translate }}
              }
            </mat-error>
          </mat-form-field>
        </div>
        <ion-button
          size="large"
          class="w-full text-white relative my-6"
          expand="block"
          type="ngSubmit"
          form="change-password-form"
          >{{ "changePasswordPage.labels.changePasswordText" | translate }}
        </ion-button>
      </form>
    </div>
    <ng-template #notFoundTemplate>
      <span class="mat-body-large w-full text-center">{{
        "attendance.labels.labels" | translate
      }}</span>
    </ng-template>
  </div>
  <img
    class="w-full h-full z-0"
    src="assets/components/test-frame-1.png"
    alt=""
    srcset=""
  />
</ion-content>
